# KNOWN_ISSUES

## Issues Needing Fixes

- [ ] CPU占用率优化，在面对大数据量时窗口会出现卡顿
- [ ] 首页的数据接收缓冲区操作逻辑仍待优化，向上加载旧数据，下滑加载新数据
- [ ] 滚动条处于最底部，这时候发送数据但滚动条并未自动滚动到最底部，导致用户无法看到发送的数据

> 目前暂停使用缓冲区，待定

- [ ] Layout3&Layout4的逻辑得优化下了，应该加入些更实际的功能

- [ ] 浅暗色主题切换，在打包之后逻辑有点问题，得查究

- [ ] 窗口样式设置同样也有问题，得找个好方法来更好管理样式表

- [ ] 搜索替换框还可以继续完善一版，可以加上搜索结果的提示，是否替换成功的提示

## Issues Fixed

- [x] 窗口配置信息可以抽离出来，统一管理，散乱各处太糟糕了

- [x] 文件保存会显示是否覆盖，这样用户使用过程中会造成歧义

> ```
> file_dialog.setOption(QFileDialog.DontConfirmOverwrite, True)
> ```

- [x] 更新检测太过冗余，应该在保证用户体验良好的情况下重新设计嵌入
- [x] Layout_1与Layout_2切换会覆盖写入保存的信息，覆盖逻辑不可取，得优化

- [x] 对于ATCommand.json获取不到的问题，如若尝试获取不到则转而获取相对路径`tmps\ATCommand.json`，如若还是获取不到则创建该默认文件

- [x] 窗口更新触发逻辑得优化，现在的逻辑有点臃肿了
- [x] LOG文件选择逻辑待完善，如果文件不存在则创建
- [x] 目前打包之后Windows安全中心会提示软件不安全，可能是因为使用了requests库，后续考虑转为PySide6内置网络请求库，发现仍然有问题

> 改换更新逻辑，目前不会有报毒提示

- [x] PySerial快速接收大量数据时，疑似有丢数据现象

> 缓冲区问题

- [x] ATCommand页面的保存按钮功能暂未实现
- [x] 目前首页窗口组件过多，得考虑重构或者利用更多弹窗而不是下拉按钮
- [x] config.ini配置文件不全时程序崩溃，将检测配置文件的逻辑修正，改成如果有配置项缺失也从默认配置文件中提取出来
- [x] Clear-Log功能有问题，新增Clear_Log_With_File参数至MoreSettings中，如果勾选则点击Clear-Log时一并清除日志文件
- [x] Tool->String-Ascii(HEX)转化布局得优化，是否改成输入及时显示？再添加个选择转化类型
- [x] 更新串口数据接收展示逻辑，DataReceiver只负责传递生数据，解析交由UI层处理
- [x] 主窗口右侧批量执行逻辑有误，重新修复，并将间隔改为ms
- [x] 结尾符在各个模块处得统一下，允许为空，允许自定义，但要给个默认值`\r\n`
- [x] 串口数据以HEX显示的功能有问题，由于新增串口缓冲功能需要重新优化这部分
- [x] 当前版本针对接收到的数据如果没有读取到`\n`，则不会第一时间输出到数据接收区，改为50ms触发一次UI更新，避免数据接收区过于频繁更新导致卡顿
- [x] 新增EndWithOther参数至顶部Settings-MoreSettings菜单中，供用户自定义指令结尾符，输入的格式为Ascii码字符
- [x] 页面的`Ctrl+F`搜索框基本功能已实现，支持字符匹配和正则匹配
- [x] 添加软件层面的发送数据回显功能，可以直接显示使用工具发送出去的数据
- [x] 添加ATCRegex至顶部Settings-MoreSettings菜单中，供用户自定义指令匹配格式
- [x] 添加MaxRowOfButtonGroup至顶部Settings-MoreSettings菜单中，供用户自定义按钮组最大行数